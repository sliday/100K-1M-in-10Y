<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Calculator | 100k to 1M</title>
    
    <!-- Tailwind CSS and DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@3.9.4/dist/full.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- P5.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        canvas {
            border-radius: 8px;
        }
    </style>
</head>
<body class="bg-base-200 min-h-screen">
    <div class="container mx-auto p-4">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-2">Portfolio Calculator</h1>
            <p class="text-xl">$100k to $1M in 10 Years</p>
        </div>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Input Section -->
            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <h2 class="card-title">Portfolio Settings</h2>
                    
                    <!-- Initial Investment -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Initial Investment</span>
                            <span class="label-text-alt">$100,000</span>
                        </label>
                        <input type="range" min="10000" max="200000" value="100000" step="1000" class="range" id="initialInvestment" />
                    </div>

                    <!-- Monthly Contribution -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Monthly Contribution</span>
                            <span class="label-text-alt">$2,000</span>
                        </label>
                        <input type="range" min="0" max="5000" value="2000" step="100" class="range" id="monthlyContribution" />
                    </div>

                    <!-- Asset Allocation -->
                    <div class="divider">Asset Allocation</div>

                    <!-- Core Growth -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">ETFs (35%)</span>
                            <span class="label-text-alt">$35,000 + $700/mo</span>
                        </label>
                        <progress class="progress progress-primary" value="35" max="100"></progress>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Crypto (35%)</span>
                            <span class="label-text-alt">$35,000 + $700/mo</span>
                        </label>
                        <progress class="progress progress-secondary" value="35" max="100"></progress>
                    </div>

                    <!-- Stability -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Term Deposits (15%)</span>
                            <span class="label-text-alt">$15,000 + $300/mo</span>
                        </label>
                        <progress class="progress progress-accent" value="15" max="100"></progress>
                    </div>

                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Bonds (10%)</span>
                            <span class="label-text-alt">$10,000 + $200/mo</span>
                        </label>
                        <progress class="progress progress-info" value="10" max="100"></progress>
                    </div>

                    <!-- Yield -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">DeFi (5%)</span>
                            <span class="label-text-alt">$5,000 + $100/mo</span>
                        </label>
                        <progress class="progress progress-success" value="5" max="100"></progress>
                    </div>
                </div>
            </div>

            <!-- Visualization Section -->
            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <h2 class="card-title">Portfolio Visualization</h2>
                    <div id="portfolioViz"></div>
                </div>
            </div>

            <!-- Projection Section -->
            <div class="card bg-base-100 shadow-xl col-span-1 md:col-span-2">
                <div class="card-body">
                    <h2 class="card-title">Growth Projection</h2>
                    <div id="projectionViz"></div>
                </div>
            </div>
        </div>

        <!-- Risk Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
            <div class="stat bg-base-100 rounded-box">
                <div class="stat-title">Expected Return</div>
                <div class="stat-value" id="expectedReturn">12.5%</div>
                <div class="stat-desc">Annual average</div>
            </div>
            <div class="stat bg-base-100 rounded-box">
                <div class="stat-title">Volatility</div>
                <div class="stat-value" id="volatility">18.2%</div>
                <div class="stat-desc">Standard deviation</div>
            </div>
            <div class="stat bg-base-100 rounded-box">
                <div class="stat-title">Sharpe Ratio</div>
                <div class="stat-value" id="sharpeRatio">1.8</div>
                <div class="stat-desc">Risk-adjusted return</div>
            </div>
        </div>
    </div>

    <!-- P5.js Sketch -->
    <script>
        // Portfolio Visualization
        let portfolioSketch = new p5(function(p) {
            p.setup = function() {
                let canvas = p.createCanvas(400, 400);
                canvas.parent('portfolioViz');
                p.noLoop();
            };

            p.draw = function() {
                p.background(255);
                drawPieChart(p);
            };
        });

        // Projection Visualization
        let projectionSketch = new p5(function(p) {
            p.setup = function() {
                let canvas = p.createCanvas(800, 300);
                canvas.parent('projectionViz');
                p.noLoop();
            };

            p.draw = function() {
                p.background(255);
                drawProjection(p);
            };
        });

        // Draw Pie Chart
        function drawPieChart(p) {
            let data = [
                { value: 35, color: [79, 70, 229] },  // ETFs
                { value: 35, color: [236, 72, 153] }, // Crypto
                { value: 15, color: [16, 185, 129] }, // Term Deposits
                { value: 10, color: [59, 130, 246] }, // Bonds
                { value: 5, color: [245, 158, 11] }   // DeFi
            ];

            let total = data.reduce((sum, item) => sum + item.value, 0);
            let startAngle = -p.PI/2;

            p.translate(p.width/2, p.height/2);
            
            data.forEach(item => {
                let sliceAngle = (item.value / total) * p.TWO_PI;
                p.fill(item.color[0], item.color[1], item.color[2]);
                p.arc(0, 0, 300, 300, startAngle, startAngle + sliceAngle);
                startAngle += sliceAngle;
            });
        }

        // Draw Projection Chart
        function drawProjection(p) {
            let initialAmount = 100000;
            let monthlyContribution = 2000;
            let years = 10;
            let expectedReturn = 0.125; // 12.5% annual return

            p.stroke(200);
            p.line(50, p.height-50, p.width-50, p.height-50); // X axis
            p.line(50, 50, 50, p.height-50); // Y axis

            let points = [];
            let amount = initialAmount;
            
            for(let year = 0; year <= years; year++) {
                amount = amount * (1 + expectedReturn) + (monthlyContribution * 12);
                let x = p.map(year, 0, years, 50, p.width-50);
                let y = p.map(amount, 0, 1000000, p.height-50, 50);
                points.push({x, y});
            }

            // Draw line
            p.stroke(79, 70, 229);
            p.strokeWeight(2);
            p.noFill();
            p.beginShape();
            points.forEach(point => {
                p.vertex(point.x, point.y);
            });
            p.endShape();

            // Reset stroke weight
            p.strokeWeight(1);
        }

        // Update visualizations when inputs change
        document.getElementById('initialInvestment').addEventListener('input', updateVisualizations);
        document.getElementById('monthlyContribution').addEventListener('input', updateVisualizations);

        function updateVisualizations() {
            portfolioSketch.redraw();
            projectionSketch.redraw();
            updateMetrics();
        }

        function updateMetrics() {
            // Simple mock updates - in real app would calculate based on inputs
            document.getElementById('expectedReturn').textContent = 
                (12.5 + Math.random()).toFixed(1) + '%';
            document.getElementById('volatility').textContent = 
                (18.2 + Math.random()).toFixed(1) + '%';
            document.getElementById('sharpeRatio').textContent = 
                (1.8 + Math.random()/2).toFixed(2);
        }
    </script>
</body>
</html> 